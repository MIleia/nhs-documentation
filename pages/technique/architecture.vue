<template>
  <DocShell type="tech" :title="t('architecture.title')" :description="t('architecture.description')">
    <div class="prose prose-slate max-w-none dark:prose-invert">
      <h1>Architecture technique</h1>
      
      <div class="not-prose bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl p-8 mb-12 border border-blue-200/50 dark:border-blue-800/30">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">üèóÔ∏è Architecture distribu√©e moderne</h2>
        <p class="text-slate-700 dark:text-slate-300 leading-relaxed mb-6">
          Plateforme de gestion d'entreprise-r√©sidence bas√©e sur une architecture dual-backend avec s√©paration des responsabilit√©s, 
          stabilit√© et maintenance facilit√©e.
        </p>
        <div class="grid md:grid-cols-3 gap-4">
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-blue-900 dark:text-blue-200 mb-2">üé® Frontend</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Nuxt.js 3.18 + Vue.js 3 + TypeScript</p>
          </div>
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-blue-900 dark:text-blue-200 mb-2">‚öôÔ∏è Backend</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Dual Laravel 11 (Proxy + Business Logic)</p>
          </div>
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-blue-900 dark:text-blue-200 mb-2">üíæ Data</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">MySQL 8.0 + Redis Cache + File Storage</p>
          </div>
        </div>
      </div>

      <!-- Vue d'ensemble -->
      <h2>Vue d'ensemble de l'architecture</h2>
      
      <h3>Architecture en couches</h3>
      <p>L'application suit une architecture en couches s√©parant clairement les responsabilit√©s :</p>
      
      <div class="not-prose bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 my-6 border border-gray-200 dark:border-gray-700">
        <h4 class="font-bold text-gray-800 dark:text-gray-200 mb-4">üìö Couches applicatives</h4>
        <div class="space-y-4 text-sm">
          <div class="bg-emerald-100 dark:bg-emerald-900/30 rounded-lg p-4 border border-emerald-200 dark:border-emerald-800">
            <h5 class="font-semibold text-emerald-900 dark:text-emerald-200 mb-2">üé® Couche Pr√©sentation (Frontend)</h5>
            <ul class="text-emerald-700 dark:text-emerald-300 space-y-1">
              <li>‚Ä¢ <strong>Nuxt.js 3.18</strong> : Framework full-stack Vue.js avec SSR/SPA</li>
              <li>‚Ä¢ <strong>Vue.js 3 + TypeScript</strong> : Interface utilisateur r√©active et typ√©e</li>
              <li>‚Ä¢ <strong>Tailwind CSS</strong> : Framework CSS utilitaire pour design system</li>
              <li>‚Ä¢ <strong>Pinia</strong> : Gestion d'√©tat centralis√©e</li>
              <li>‚Ä¢ <strong>i18n</strong> : Internationalisation (FR/EN/ZH)</li>
            </ul>
          </div>
          <div class="bg-blue-100 dark:bg-blue-900/30 rounded-lg p-4 border border-blue-200 dark:border-blue-800">
            <h5 class="font-semibold text-blue-900 dark:text-blue-200 mb-2">üîÑ Couche API Gateway (Backend-Client)</h5>
            <ul class="text-blue-700 dark:text-blue-300 space-y-1">
              <li>‚Ä¢ <strong>Laravel 11</strong> : Framework PHP moderne avec Eloquent ORM</li>
              <li>‚Ä¢ <strong>Port 8000</strong> : Point d'entr√©e unique pour toutes les requ√™tes</li>
              <li>‚Ä¢ <strong>Proxy intelligent</strong> : Redirection vers backend-nhs</li>
              <li>‚Ä¢ <strong>Gestion base de donn√©es</strong> : Acc√®s direct aux donn√©es</li>
              <li>‚Ä¢ <strong>Laravel Sanctum</strong> : Authentification API</li>
            </ul>
          </div>
          <div class="bg-purple-100 dark:bg-purple-900/30 rounded-lg p-4 border border-purple-200 dark:border-purple-800">
            <h5 class="font-semibold text-purple-900 dark:text-purple-200 mb-2">üß† Couche M√©tier (Backend-NHS)</h5>
            <ul class="text-purple-700 dark:text-purple-300 space-y-1">
              <li>‚Ä¢ <strong>Laravel 11</strong> : Logique m√©tier et r√®gles business</li>
              <li>‚Ä¢ <strong>Port 8001</strong> : Service sp√©cialis√© pour traitements complexes</li>
              <li>‚Ä¢ <strong>Business Logic</strong> : Algorithmes, calculs, workflows</li>
              <li>‚Ä¢ <strong>Services sp√©cialis√©s</strong> : Badges, incidents, messagerie</li>
              <li>‚Ä¢ <strong>Int√©grations externes</strong> : APIs tierces, notifications</li>
            </ul>
          </div>
          <div class="bg-orange-100 dark:bg-orange-900/30 rounded-lg p-4 border border-orange-200 dark:border-orange-800">
            <h5 class="font-semibold text-orange-900 dark:text-orange-200 mb-2">üíæ Couche Donn√©es (Database)</h5>
            <ul class="text-orange-700 dark:text-orange-300 space-y-1">
              <li>‚Ä¢ <strong>MySQL 8.0</strong> : Base de donn√©es relationnelle principale</li>
              <li>‚Ä¢ <strong>Redis</strong> : Cache haute performance et sessions</li>
              <li>‚Ä¢ <strong>File Storage</strong> : Stockage s√©curis√© des fichiers</li>
              <li>‚Ä¢ <strong>Backup System</strong> : Sauvegarde automatis√©e</li>
              <li>‚Ä¢ <strong>Logging</strong> : Journalisation centralis√©e</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Architecture de d√©ploiement -->
      <h3>Architecture de d√©ploiement</h3>
      <p>Configuration distribu√©e pour haute disponibilit√© et performance :</p>
      
      <div class="not-prose bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-6 my-6 border border-indigo-200 dark:border-indigo-800/30">
        <h4 class="font-bold text-indigo-800 dark:text-indigo-200 mb-4">üåê Topology r√©seau</h4>
        <div class="grid md:grid-cols-2 gap-6 text-sm">
          <div>
            <h5 class="font-semibold text-indigo-900 dark:text-indigo-200 mb-3">Frontend (Port 3000)</h5>
            <ul class="space-y-2 text-indigo-700 dark:text-indigo-300">
              <li>‚Ä¢ <strong>Serveur web Nuxt.js</strong> : SSR/SPA hybride</li>
              <li>‚Ä¢ <strong>CDN int√©gr√©</strong> : Assets statiques optimis√©s</li>
              <li>‚Ä¢ <strong>Hot reload</strong> : D√©veloppement temps r√©el</li>
              <li>‚Ä¢ <strong>Build optimis√©</strong> : Tree-shaking, minification</li>
              <li>‚Ä¢ <strong>PWA ready</strong> : Service workers, offline</li>
            </ul>
          </div>
          <div>
            <h5 class="font-semibold text-indigo-900 dark:text-indigo-200 mb-3">Backend Services</h5>
            <ul class="space-y-2 text-indigo-700 dark:text-indigo-300">
              <li>‚Ä¢ <strong>Backend-Client (8000)</strong> : API Gateway + DB Access</li>
              <li>‚Ä¢ <strong>Backend-NHS (8001)</strong> : Business Logic Service</li>
              <li>‚Ä¢ <strong>Load Balancer</strong> : Distribution de charge</li>
              <li>‚Ä¢ <strong>Health Checks</strong> : Surveillance sant√© services</li>
              <li>‚Ä¢ <strong>Auto-scaling</strong> : Adaptation charge dynamique</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Flux de donn√©es -->
      <h2>Flux de donn√©es et communication</h2>
      
      <h3>Communication inter-services</h3>
      <p>Orchestration des √©changes entre composants :</p>
      
      <ol>
        <li><strong>Frontend ‚Üí Backend-Client :</strong>
          <ul>
            <li>Requ√™tes HTTP/HTTPS via axios</li>
            <li>Authentification Bearer token (Sanctum)</li>
            <li>S√©rialisation JSON standardis√©e</li>
            <li>Gestion d'erreurs et retry automatique</li>
          </ul>
        </li>
        <li><strong>Backend-Client ‚Üí Backend-NHS :</strong>
          <ul>
            <li>Communication HTTP interne</li>
            <li>Proxy intelligent avec fallback</li>
            <li>Circuit breaker pour r√©silience</li>
            <li>Load balancing et health checks</li>
          </ul>
        </li>
        <li><strong>Backend-Client ‚Üí Database :</strong>
          <ul>
            <li>Eloquent ORM avec pool de connexions</li>
            <li>Transactions ACID garanties</li>
            <li>Read/Write separation possible</li>
            <li>Migration et seeding automatis√©s</li>
          </ul>
        </li>
      </ol>

      <h3>Gestion d'√©tat et cache</h3>
      <p>Optimisation performances et coh√©rence des donn√©es :</p>
      
      <div class="not-prose bg-green-50 dark:bg-green-950/20 rounded-xl p-6 my-6 border border-green-200 dark:border-green-800/30">
        <h4 class="font-bold text-green-800 dark:text-green-200 mb-4">‚ö° Strat√©gies de cache</h4>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h5 class="font-semibold text-green-900 dark:text-green-200 mb-2">Cache Frontend</h5>
            <ul class="space-y-1 text-green-700 dark:text-green-300">
              <li>‚Ä¢ <strong>Pinia stores</strong> : √âtat applicatif en m√©moire</li>
              <li>‚Ä¢ <strong>LocalStorage</strong> : Persistance pr√©f√©rences utilisateur</li>
              <li>‚Ä¢ <strong>HTTP cache</strong> : Assets statiques (24h)</li>
              <li>‚Ä¢ <strong>Service Worker</strong> : Cache intelligent offline</li>
            </ul>
          </div>
          <div>
            <h5 class="font-semibold text-green-900 dark:text-green-200 mb-2">Cache Backend</h5>
            <ul class="space-y-1 text-green-700 dark:text-green-300">
              <li>‚Ä¢ <strong>Redis</strong> : Cache distribut√© haute performance</li>
              <li>‚Ä¢ <strong>Laravel Cache</strong> : Cache application (1h)</li>
              <li>‚Ä¢ <strong>Database Cache</strong> : Query results (15min)</li>
              <li>‚Ä¢ <strong>Session Store</strong> : Sessions utilisateur s√©curis√©es</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Patterns architecturaux -->
      <h2>Patterns et principes de conception</h2>
      
      <h3>Design Patterns utilis√©s</h3>
      <p>Patterns √©prouv√©s pour maintenabilit√© et extensibilit√© :</p>
      
      <div class="not-prose grid md:grid-cols-2 gap-6 my-8">
        <div class="bg-cyan-50 dark:bg-cyan-950/20 rounded-xl p-6 border border-cyan-200 dark:border-cyan-800/30">
          <h4 class="font-bold text-cyan-800 dark:text-cyan-200 mb-4">üèõÔ∏è Patterns Backend</h4>
          <ul class="text-sm text-cyan-700 dark:text-cyan-300 space-y-2">
            <li>‚Ä¢ <strong>Repository Pattern</strong> : Abstraction acc√®s donn√©es</li>
            <li>‚Ä¢ <strong>Service Layer</strong> : Logique m√©tier encapsul√©e</li>
            <li>‚Ä¢ <strong>Factory Pattern</strong> : Cr√©ation objets complexes</li>
            <li>‚Ä¢ <strong>Observer Pattern</strong> : √âv√©nements et listeners</li>
            <li>‚Ä¢ <strong>Strategy Pattern</strong> : Algorithmes interchangeables</li>
            <li>‚Ä¢ <strong>Dependency Injection</strong> : Inversion de contr√¥le</li>
          </ul>
        </div>
        <div class="bg-teal-50 dark:bg-teal-950/20 rounded-xl p-6 border border-teal-200 dark:border-teal-800/30">
          <h4 class="font-bold text-teal-800 dark:text-teal-200 mb-4">‚öõÔ∏è Patterns Frontend</h4>
          <ul class="text-sm text-teal-700 dark:text-teal-300 space-y-2">
            <li>‚Ä¢ <strong>Composition API</strong> : Logique r√©utilisable Vue.js</li>
            <li>‚Ä¢ <strong>Store Pattern</strong> : Gestion d'√©tat centralis√©e</li>
            <li>‚Ä¢ <strong>Component Pattern</strong> : Composants r√©utilisables</li>
            <li>‚Ä¢ <strong>Module Pattern</strong> : Organisation code modulaire</li>
            <li>‚Ä¢ <strong>Proxy Pattern</strong> : Interception requ√™tes API</li>
            <li>‚Ä¢ <strong>Observer Pattern</strong> : R√©activit√© Vue.js</li>
          </ul>
        </div>
      </div>

      <h3>Principes SOLID</h3>
      <p>Application des principes de d√©veloppement robuste :</p>
      
      <ul>
        <li><strong>Single Responsibility :</strong> Chaque classe/service a une responsabilit√© unique</li>
        <li><strong>Open/Closed :</strong> Extension sans modification du code existant</li>
        <li><strong>Liskov Substitution :</strong> Polymorphisme et interfaces coh√©rentes</li>
        <li><strong>Interface Segregation :</strong> Interfaces sp√©cialis√©es et l√©g√®res</li>
        <li><strong>Dependency Inversion :</strong> D√©pendances vers abstractions</li>
      </ul>

      <!-- Scalabilit√© et performance -->
      <h2>Scalabilit√© et performance</h2>
      
      <h3>Strat√©gies de scalabilit√©</h3>
      <p>Conception pour croissance et charge √©lev√©e :</p>
      
      <div class="not-prose bg-yellow-50 dark:bg-yellow-950/20 rounded-xl p-6 my-6 border border-yellow-200 dark:border-yellow-800/30">
        <h4 class="font-bold text-yellow-800 dark:text-yellow-200 mb-4">üìà Scalabilit√© horizontale</h4>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h5 class="font-semibold text-yellow-900 dark:text-yellow-200 mb-2">Frontend</h5>
            <ul class="space-y-1 text-yellow-700 dark:text-yellow-300">
              <li>‚Ä¢ <strong>CDN distribution</strong> : Assets g√©ographiquement distribu√©s</li>
              <li>‚Ä¢ <strong>Code splitting</strong> : Chargement lazy des modules</li>
              <li>‚Ä¢ <strong>SSR adaptatif</strong> : Rendu serveur intelligent</li>
              <li>‚Ä¢ <strong>PWA caching</strong> : R√©duction charge serveur</li>
            </ul>
          </div>
          <div>
            <h5 class="font-semibold text-yellow-900 dark:text-yellow-200 mb-2">Backend</h5>
            <ul class="space-y-1 text-yellow-700 dark:text-yellow-300">
              <li>‚Ä¢ <strong>Load balancing</strong> : Distribution instances multiples</li>
              <li>‚Ä¢ <strong>Database sharding</strong> : Partition donn√©es</li>
              <li>‚Ä¢ <strong>Queue workers</strong> : Traitement asynchrone</li>
              <li>‚Ä¢ <strong>Microservices</strong> : Services ind√©pendants</li>
            </ul>
          </div>
        </div>
      </div>

      <h3>Optimisations performance</h3>
      <p>Techniques avanc√©es pour temps de r√©ponse optimal :</p>
      
      <ol>
        <li><strong>Database Performance :</strong>
          <ul>
            <li>Index optimis√©s sur requ√™tes fr√©quentes</li>
            <li>Query optimization et explain plans</li>
            <li>Connection pooling et prepared statements</li>
            <li>Read replicas pour distribution charge</li>
          </ul>
        </li>
        <li><strong>Application Performance :</strong>
          <ul>
            <li>Eager loading pour √©viter N+1 queries</li>
            <li>Response caching avec invalidation intelligente</li>
            <li>Compression gzip/brotli des r√©ponses</li>
            <li>Async/await pour operations non-bloquantes</li>
          </ul>
        </li>
        <li><strong>Frontend Performance :</strong>
          <ul>
            <li>Tree shaking et dead code elimination</li>
            <li>Image optimization et lazy loading</li>
            <li>Virtual scrolling pour listes longues</li>
            <li>Debouncing des requ√™tes utilisateur</li>
          </ul>
        </li>
      </ol>

      <!-- S√©curit√© architecturale -->
      <h2>S√©curit√© architecturale</h2>
      
      <h3>D√©fense en profondeur</h3>
      <p>S√©curit√© multicouche pour protection maximale :</p>
      
      <div class="not-prose bg-red-50 dark:bg-red-950/20 rounded-xl p-6 my-6 border border-red-200 dark:border-red-800/30">
        <h4 class="font-bold text-red-800 dark:text-red-200 mb-4">üõ°Ô∏è Couches de s√©curit√©</h4>
        <div class="space-y-4 text-sm">
          <div class="bg-red-100 dark:bg-red-900/30 rounded-lg p-4 border border-red-200 dark:border-red-800">
            <h5 class="font-semibold text-red-900 dark:text-red-200 mb-2">üåê Network Security</h5>
            <ul class="text-red-700 dark:text-red-300 space-y-1">
              <li>‚Ä¢ <strong>HTTPS obligatoire</strong> : TLS 1.3 avec certificats Let's Encrypt</li>
              <li>‚Ä¢ <strong>Firewall rules</strong> : Ports sp√©cifiques, IP whitelisting</li>
              <li>‚Ä¢ <strong>DDoS protection</strong> : Rate limiting et blacklisting</li>
              <li>‚Ä¢ <strong>VPN access</strong> : Administration s√©curis√©e</li>
            </ul>
          </div>
          <div class="bg-orange-100 dark:bg-orange-900/30 rounded-lg p-4 border border-orange-200 dark:border-orange-800">
            <h5 class="font-semibold text-orange-900 dark:text-orange-200 mb-2">üîê Application Security</h5>
            <ul class="text-orange-700 dark:text-orange-300 space-y-1">
              <li>‚Ä¢ <strong>Authentication forte</strong> : Sanctum + 2FA optionnel</li>
              <li>‚Ä¢ <strong>Authorization granulaire</strong> : RBAC avec permissions</li>
              <li>‚Ä¢ <strong>Input validation</strong> : Sanitization et validation</li>
              <li>‚Ä¢ <strong>Output encoding</strong> : Protection XSS</li>
            </ul>
          </div>
          <div class="bg-yellow-100 dark:bg-yellow-900/30 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800">
            <h5 class="font-semibold text-yellow-900 dark:text-yellow-200 mb-2">üíæ Data Security</h5>
            <ul class="text-yellow-700 dark:text-yellow-300 space-y-1">
              <li>‚Ä¢ <strong>Encryption at rest</strong> : Donn√©es sensibles chiffr√©es</li>
              <li>‚Ä¢ <strong>Encryption in transit</strong> : Communications s√©curis√©es</li>
              <li>‚Ä¢ <strong>Access control</strong> : Principe moindre privil√®ge</li>
              <li>‚Ä¢ <strong>Audit logging</strong> : Tra√ßabilit√© compl√®te</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Monitoring et observabilit√© -->
      <h2>Monitoring et observabilit√©</h2>
      
      <h3>T√©l√©m√©trie et m√©triques</h3>
      <p>Visibilit√© compl√®te sur la sant√© du syst√®me :</p>
      
      <div class="not-prose grid md:grid-cols-3 gap-6 my-8">
        <div class="bg-purple-50 dark:bg-purple-950/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800/30">
          <h4 class="font-bold text-purple-800 dark:text-purple-200 mb-4">üìä M√©triques</h4>
          <ul class="text-sm text-purple-700 dark:text-purple-300 space-y-2">
            <li>‚Ä¢ <strong>Performance</strong> : Temps r√©ponse, throughput</li>
            <li>‚Ä¢ <strong>Utilisation</strong> : CPU, m√©moire, disque</li>
            <li>‚Ä¢ <strong>Disponibilit√©</strong> : Uptime, health checks</li>
            <li>‚Ä¢ <strong>Business</strong> : KPIs m√©tier personnalis√©s</li>
          </ul>
        </div>
        <div class="bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-6 border border-indigo-200 dark:border-indigo-800/30">
          <h4 class="font-bold text-indigo-800 dark:text-indigo-200 mb-4">üìã Logging</h4>
          <ul class="text-sm text-indigo-700 dark:text-indigo-300 space-y-2">
            <li>‚Ä¢ <strong>Structured logs</strong> : Format JSON standardis√©</li>
            <li>‚Ä¢ <strong>Log levels</strong> : Debug, info, warning, error</li>
            <li>‚Ä¢ <strong>Centralization</strong> : Agr√©gation multi-services</li>
            <li>‚Ä¢ <strong>Retention</strong> : Politique de conservation</li>
          </ul>
        </div>
        <div class="bg-teal-50 dark:bg-teal-950/20 rounded-xl p-6 border border-teal-200 dark:border-teal-800/30">
          <h4 class="font-bold text-teal-800 dark:text-teal-200 mb-4">üîç Tracing</h4>
          <ul class="text-sm text-teal-700 dark:text-teal-300 space-y-2">
            <li>‚Ä¢ <strong>Request tracing</strong> : Suivi requ√™tes bout-en-bout</li>
            <li>‚Ä¢ <strong>Error tracking</strong> : Capture et analyse erreurs</li>
            <li>‚Ä¢ <strong>Performance profiling</strong> : Identification goulots</li>
            <li>‚Ä¢ <strong>User journeys</strong> : Analyse parcours utilisateur</li>
          </ul>
        </div>
      </div>

      <h3>Alerting et notifications</h3>
      <p>Syst√®me d'alerte proactif pour r√©action rapide :</p>
      
      <ul>
        <li><strong>Seuils configurables :</strong> M√©triques critiques avec alertes automatiques</li>
        <li><strong>Escalation :</strong> Notification hi√©rarchique selon gravit√©</li>
        <li><strong>Channels multiples :</strong> Email, SMS, Slack, webhook</li>
        <li><strong>Correlation :</strong> Groupement alertes li√©es</li>
        <li><strong>Playbooks :</strong> Proc√©dures automatis√©es de r√©solution</li>
      </ul>

      <!-- Technologies et stack technique -->
      <h2>Stack technique d√©taill√©</h2>
      
      <h3>Frontend Technologies</h3>
      <div class="not-prose bg-emerald-50 dark:bg-emerald-950/20 rounded-xl p-6 my-6 border border-emerald-200 dark:border-emerald-800/30">
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h4 class="font-bold text-emerald-800 dark:text-emerald-200 mb-3">Core Framework</h4>
            <ul class="space-y-1 text-emerald-700 dark:text-emerald-300">
              <li>‚Ä¢ <strong>Nuxt.js 3.18.0</strong> : Meta-framework Vue.js</li>
              <li>‚Ä¢ <strong>Vue.js 3</strong> : Progressive framework</li>
              <li>‚Ä¢ <strong>TypeScript</strong> : Typage statique</li>
              <li>‚Ä¢ <strong>Vite</strong> : Build tool moderne</li>
            </ul>
          </div>
          <div>
            <h4 class="font-bold text-emerald-800 dark:text-emerald-200 mb-3">UI & Styling</h4>
            <ul class="space-y-1 text-emerald-700 dark:text-emerald-300">
              <li>‚Ä¢ <strong>Tailwind CSS</strong> : Utility-first CSS</li>
              <li>‚Ä¢ <strong>HeadlessUI</strong> : Composants accessibles</li>
              <li>‚Ä¢ <strong>Heroicons</strong> : Ic√¥nes SVG optimis√©es</li>
              <li>‚Ä¢ <strong>PostCSS</strong> : Transformation CSS</li>
            </ul>
          </div>
        </div>
      </div>

      <h3>Backend Technologies</h3>
      <div class="not-prose bg-blue-50 dark:bg-blue-950/20 rounded-xl p-6 my-6 border border-blue-200 dark:border-blue-800/30">
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h4 class="font-bold text-blue-800 dark:text-blue-200 mb-3">Core Framework</h4>
            <ul class="space-y-1 text-blue-700 dark:text-blue-300">
              <li>‚Ä¢ <strong>Laravel 11</strong> : Framework PHP moderne</li>
              <li>‚Ä¢ <strong>PHP 8.3+</strong> : Langage serveur performant</li>
              <li>‚Ä¢ <strong>Composer</strong> : Gestionnaire d√©pendances</li>
              <li>‚Ä¢ <strong>Artisan CLI</strong> : Outils d√©veloppement</li>
            </ul>
          </div>
          <div>
            <h4 class="font-bold text-blue-800 dark:text-blue-200 mb-3">Extensions Laravel</h4>
            <ul class="space-y-1 text-blue-700 dark:text-blue-300">
              <li>‚Ä¢ <strong>Sanctum</strong> : Authentication API</li>
              <li>‚Ä¢ <strong>Eloquent ORM</strong> : Object-Relational Mapping</li>
              <li>‚Ä¢ <strong>Queue System</strong> : Jobs asynchrones</li>
              <li>‚Ä¢ <strong>Events & Listeners</strong> : Architecture √©v√©nementielle</li>
            </ul>
          </div>
        </div>
      </div>

      <h3>Infrastructure et DevOps</h3>
      <div class="not-prose bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 my-6 border border-gray-200 dark:border-gray-700">
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h4 class="font-bold text-gray-800 dark:text-gray-200 mb-3">Base de donn√©es</h4>
            <ul class="space-y-1 text-gray-600 dark:text-gray-300">
              <li>‚Ä¢ <strong>MySQL 8.0</strong> : SGBD relationnel principal</li>
              <li>‚Ä¢ <strong>Redis</strong> : Cache et store sessions</li>
              <li>‚Ä¢ <strong>Migrations</strong> : Versioning sch√©ma DB</li>
              <li>‚Ä¢ <strong>Seeders</strong> : Donn√©es de test</li>
            </ul>
          </div>
          <div>
            <h4 class="font-bold text-gray-800 dark:text-gray-200 mb-3">Outils DevOps</h4>
            <ul class="space-y-1 text-gray-600 dark:text-gray-300">
              <li>‚Ä¢ <strong>Git</strong> : Versioning code source</li>
              <li>‚Ä¢ <strong>npm/pnpm</strong> : Gestionnaire packages JS</li>
              <li>‚Ä¢ <strong>Docker</strong> : Containerization (optionnel)</li>
              <li>‚Ä¢ <strong>CI/CD</strong> : Pipeline automatis√©</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Conclusion -->
      <div class="not-prose bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 rounded-2xl p-8 mt-12 border border-blue-200/50 dark:border-blue-800/30">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">üéØ Architecture robuste et √©volutive</h2>
        <p class="text-slate-700 dark:text-slate-300 leading-relaxed mb-6">
          Cette architecture moderne et modulaire offre les fondations solides pour une plateforme de gestion d'entreprise-r√©sidence 
          performante, s√©curis√©e et facilement maintenable. La s√©paration des responsabilit√©s et les patterns √©prouv√©s 
          garantissent une √©volutivit√© √† long terme.
        </p>
        <div class="grid md:grid-cols-3 gap-4">
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-blue-900 dark:text-blue-200 mb-2">‚ö° Performance</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Optimis√©e pour charge √©lev√©e</p>
          </div>
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-blue-900 dark:text-blue-200 mb-2">üîí S√©curit√©</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">D√©fense en profondeur</p>
          </div>
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-blue-900 dark:text-blue-200 mb-2">üìà Scalabilit√©</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Croissance sans limites</p>
          </div>
        </div>
      </div>
    </div>
  </DocShell>
</template>

<script setup lang="ts">
import { onMounted } from 'vue'

// Import du syst√®me de th√®me
const { initTheme } = useTheme()

// Fonction de traduction utilisant les fichiers JSON i18n
const route = useRoute()

const getCurrentLocale = () => {
  const path = route.path
  if (path.startsWith('/en')) return 'en'
  if (path.startsWith('/zh')) return 'zh'
  return 'fr'
}

const locale = getCurrentLocale()

// Fonction de traduction simple
const t = (key: string) => {
  // Traductions directes depuis les fichiers JSON - Section Architecture
  const translations: Record<string, Record<string, any>> = {
    fr: {
      'architecture': {
        'title': 'Architecture technique',
        'description': 'Vue d\'ensemble de l\'architecture syst√®me',
        'header': {
          'title': 'Architecture distribu√©e moderne',
          'description': 'Plateforme de gestion d\'entreprise-r√©sidence bas√©e sur une architecture dual-backend avec s√©paration des responsabilit√©s, stabilit√© et maintenance facilit√©e.',
          'features': {
            'frontend': 'Nuxt.js 3.18 + Vue.js 3 + TypeScript',
            'backend': 'Dual Laravel 11 (Proxy + Business Logic)',
            'data': 'MySQL 8.0 + Redis Cache + File Storage'
          }
        },
        'overview': {
          'title': 'Vue d\'ensemble de l\'architecture',
          'layers': {
            'title': 'Architecture en couches',
            'description': 'L\'application suit une architecture en couches s√©parant clairement les responsabilit√©s :',
            'layers_title': 'Couches applicatives',
            'presentation': {
              'title': 'Couche Pr√©sentation (Frontend)',
              'items': [
                'Nuxt.js 3.18 : Framework full-stack Vue.js avec SSR/SPA',
                'Vue.js 3 + TypeScript : Interface utilisateur r√©active et typ√©e',
                'Tailwind CSS : Framework CSS utilitaire pour design system',
                'Pinia : Gestion d\'√©tat centralis√©e',
                'i18n : Internationalisation (FR/EN/ZH)'
              ]
            },
            'api_gateway': {
              'title': 'Couche API Gateway (Backend-Client)',
              'items': [
                'Laravel 11 : Framework PHP moderne avec Eloquent ORM',
                'Port 8000 : Point d\'entr√©e unique pour toutes les requ√™tes',
                'Proxy intelligent : Redirection vers backend-nhs',
                'Gestion base de donn√©es : Acc√®s direct aux donn√©es',
                'Laravel Sanctum : Authentification API'
              ]
            },
            'business': {
              'title': 'Couche M√©tier (Backend-NHS)',
              'items': [
                'Laravel 11 : Logique m√©tier et r√®gles business',
                'Port 8001 : Service sp√©cialis√© pour traitements complexes',
                'Business Logic : Algorithmes, calculs, workflows',
                'Services sp√©cialis√©s : Badges, incidents, messagerie',
                'Int√©grations externes : APIs tierces, notifications'
              ]
            },
            'data': {
              'title': 'Couche Donn√©es (Database)',
              'items': [
                'MySQL 8.0 : Base de donn√©es relationnelle principale',
                'Redis : Cache haute performance et sessions',
                'File Storage : Stockage s√©curis√© des fichiers',
                'Backup System : Sauvegarde automatis√©e',
                'Logging : Journalisation centralis√©e'
              ]
            }
          },
          'deployment': {
            'title': 'Architecture de d√©ploiement',
            'description': 'Configuration distribu√©e pour haute disponibilit√© et performance :',
            'network_topology': 'Topology r√©seau',
            'frontend': {
              'title': 'Frontend (Port 3000)',
              'items': [
                'Serveur web Nuxt.js : SSR/SPA hybride',
                'CDN int√©gr√© : Assets statiques optimis√©s',
                'Hot reload : D√©veloppement temps r√©el',
                'Build optimis√© : Tree-shaking, minification',
                'PWA ready : Service workers, offline'
              ]
            },
            'backend_services': {
              'title': 'Backend Services',
              'items': [
                'Backend-Client (8000) : API Gateway + DB Access'
              ]
            }
          }
        }
      }
    }
  }
  
  // Navigation dans l'objet de traductions
  const keys = key.split('.')
  let value = translations[locale]
  
  for (const k of keys) {
    if (value && typeof value === 'object' && k in value) {
      value = value[k]
    } else {
      return key // Retourne la cl√© si la traduction n'est pas trouv√©e
    }
  }
  
  return typeof value === 'string' ? value : key
}

// Configuration des m√©tadonn√©es
useHead({ 
  title: t('architecture.title') + ' - Documentation'
})

// Initialisation du th√®me
onMounted(() => {
  initTheme()
})
</script>


