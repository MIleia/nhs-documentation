<template>
  <DocShell type="guide" title="Guide de la messagerie" description="Ma√Ætriser le syst√®me de communication interne">
    <div class="prose prose-slate max-w-none dark:prose-invert">
      <h1>Guide de la messagerie</h1>
      
      <div class="not-prose bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-950/20 dark:to-blue-950/20 rounded-2xl p-8 mb-12 border border-cyan-200/50 dark:border-cyan-800/30">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">üí¨ Communication moderne</h2>
        <p class="text-slate-700 dark:text-slate-300 leading-relaxed mb-6">
          La messagerie int√©gr√©e facilite la communication entre tous les acteurs de la r√©sidence. 
          Syst√®me de conversations avec gestion des participants et historique des messages.
        </p>
        <div class="grid md:grid-cols-3 gap-4">
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-cyan-900 dark:text-cyan-200 mb-2">üí¨ Messages</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Communication directe entre utilisateurs</p>
          </div>
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-cyan-900 dark:text-cyan-200 mb-2">üë• Groupes</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Conversations de groupe organis√©es</p>
          </div>
          <div class="bg-white/50 dark:bg-slate-800/50 rounded-xl p-4">
            <h3 class="font-bold text-cyan-900 dark:text-cyan-200 mb-2">ÔøΩ Historique</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Conservation de l'historique des √©changes</p>
          </div>
        </div>
      </div>

      <!-- Interface messagerie -->
      <h2>Interface de la messagerie</h2>
      
      <h3>Acc√®s √† la messagerie</h3>
      <p>La messagerie est accessible depuis le menu principal :</p>
      
      <ol>
        <li>Cliquez sur "Messages" dans le menu lat√©ral</li>
        <li>Consultez vos conversations existantes</li>
        <li>Cr√©ez de nouvelles conversations si n√©cessaire</li>
      </ol>

      <h3>Organisation de l'interface</h3>
      <div class="not-prose grid md:grid-cols-2 gap-6 my-8">
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
          <h4 class="font-bold text-gray-800 dark:text-gray-200 mb-4">üìã Liste des conversations</h4>
          <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2">
            <li>‚Ä¢ Vos conversations actives</li>
            <li>‚Ä¢ Aper√ßu du dernier message</li>
            <li>‚Ä¢ Nom des participants</li>
            <li>‚Ä¢ Date et heure des √©changes</li>
          </ul>
        </div>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
          <h4 class="font-bold text-gray-800 dark:text-gray-200 mb-4">üí≠ Conversation s√©lectionn√©e</h4>
          <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2">
            <li>‚Ä¢ Historique complet des messages</li>
            <li>‚Ä¢ Zone de saisie pour r√©pondre</li>
            <li>‚Ä¢ Informations sur les participants</li>
            <li>‚Ä¢ Envoi et r√©ception des messages</li>
          </ul>
        </div>
      </div>

      <!-- Types de conversations -->
      <h2>Types de conversations</h2>
      
      <h3>Conversations de groupe</h3>
      <p>Principale m√©thode de communication dans l'application :</p>
      
      <div class="not-prose bg-blue-50 dark:bg-blue-950/20 rounded-xl p-6 my-6 border border-blue-200 dark:border-blue-800/30">
        <h4 class="font-bold text-blue-800 dark:text-blue-200 mb-4">Cr√©er une conversation</h4>
        <ol class="text-sm text-blue-700 dark:text-blue-300 space-y-1">
          <li>1. Cliquez sur "Nouvelle conversation" dans la section Messages</li>
          <li>2. Donnez un nom √† la conversation</li>
          <li>3. Recherchez et s√©lectionnez les participants</li>
          <li>4. Cr√©ez la conversation</li>
          <li>5. Un message automatique confirme la cr√©ation</li>
        </ol>
      </div>

      <h3>Gestion des participants</h3>
      <p>Les conversations peuvent inclure plusieurs utilisateurs :</p>
      
      <ul>
        <li><strong>Ajout de membres :</strong> Possibilit√© d'ajouter de nouveaux participants</li>
        <li><strong>Recherche d'utilisateurs :</strong> Par nom, pr√©nom ou email</li>
        <li><strong>R√¥les visibles :</strong> Admin, gardien, r√©sident affich√©s</li>
        <li><strong>Historique complet :</strong> Tous les messages sont conserv√©s</li>
      </ul>

      <!-- Fonctionnalit√©s de messagerie -->
      <h2>Fonctionnalit√©s de messagerie</h2>
      
      <h3>Envoi et r√©ception de messages</h3>
      <div class="not-prose grid md:grid-cols-2 gap-6 my-8">
        <div class="bg-purple-50 dark:bg-purple-950/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800/30">
          <h4 class="font-bold text-purple-800 dark:text-purple-200 mb-4">‚úèÔ∏è R√©daction de messages</h4>
          <ul class="text-sm text-purple-700 dark:text-purple-300 space-y-2">
            <li>‚Ä¢ Zone de saisie simple et intuitive</li>
            <li>‚Ä¢ Envoi par bouton ou touche Entr√©e</li>
            <li>‚Ä¢ Messages texte principalement</li>
            <li>‚Ä¢ Support des caract√®res sp√©ciaux</li>
          </ul>
        </div>
        <div class="bg-orange-50 dark:bg-orange-950/20 rounded-xl p-6 border border-orange-200 dark:border-orange-800/30">
          <h4 class="font-bold text-orange-800 dark:text-orange-200 mb-4">ÔøΩ Historique des messages</h4>
          <ul class="text-sm text-orange-700 dark:text-orange-300 space-y-2">
            <li>‚Ä¢ Conservation compl√®te de l'historique</li>
            <li>‚Ä¢ Horodatage des messages</li>
            <li>‚Ä¢ Identification de l'auteur</li>
            <li>‚Ä¢ Scroll dans l'historique</li>
          </ul>
        </div>
      </div>

      <h3>Gestion des conversations</h3>
      <div class="not-prose bg-yellow-50 dark:bg-yellow-950/20 rounded-xl p-6 my-6 border border-yellow-200 dark:border-yellow-800/30">
        <h4 class="font-bold text-yellow-800 dark:text-yellow-200 mb-4">üé≠ Fonctionnalit√©s disponibles</h4>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h5 class="font-semibold text-yellow-900 dark:text-yellow-200 mb-2">Actions sur conversations</h5>
            <ul class="space-y-1 text-yellow-700 dark:text-yellow-300">
              <li>‚Ä¢ S√©lectionner une conversation dans la liste</li>
              <li>‚Ä¢ Consulter l'historique complet</li>
              <li>‚Ä¢ Ajouter de nouveaux participants</li>
              <li>‚Ä¢ Signaler un contenu inappropri√©</li>
            </ul>
          </div>
          <div>
            <h5 class="font-semibold text-yellow-900 dark:text-yellow-200 mb-2">Navigation</h5>
            <ul class="space-y-1 text-yellow-700 dark:text-yellow-300">
              <li>‚Ä¢ Navigation entre conversations</li>
              <li>‚Ä¢ Recherche dans l'historique</li>
              <li>‚Ä¢ Vue chronologique des messages</li>
              <li>‚Ä¢ Interface responsive mobile/desktop</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Gestion des conversations -->
      <h2>Utilisation pratique</h2>
      
      <h3>Bonnes pratiques de communication</h3>
      <p>Pour une utilisation optimale de la messagerie :</p>
      
      <div class="not-prose space-y-4 my-8">
        <div class="bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-6 border border-indigo-200 dark:border-indigo-800/30">
          <h4 class="font-bold text-indigo-800 dark:text-indigo-200 mb-4">üí° Conseils d'utilisation</h4>
          <div class="grid md:grid-cols-2 gap-4 text-sm">
            <div>
              <h5 class="font-semibold text-indigo-900 dark:text-indigo-200 mb-2">Organisation</h5>
              <ul class="space-y-1 text-indigo-700 dark:text-indigo-300">
                <li>‚Ä¢ Donnez des noms clairs aux conversations</li>
                <li>‚Ä¢ Invitez uniquement les personnes concern√©es</li>
                <li>‚Ä¢ Utilisez des conversations sp√©cifiques par sujet</li>
                <li>‚Ä¢ Gardez l'historique pour r√©f√©rence</li>
              </ul>
            </div>
            <div>
              <h5 class="font-semibold text-indigo-900 dark:text-indigo-200 mb-2">Communication</h5>
              <ul class="space-y-1 text-indigo-700 dark:text-indigo-300">
                <li>‚Ä¢ Soyez respectueux dans vos √©changes</li>
                <li>‚Ä¢ R√©pondez dans des d√©lais raisonnables</li>
                <li>‚Ä¢ Utilisez les conversations de groupe avec mod√©ration</li>
                <li>‚Ä¢ Consultez r√©guli√®rement vos messages</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <h3>R√¥les et permissions</h3>
      <p>Selon votre r√¥le dans l'application, vos capacit√©s dans la messagerie varient :</p>
      
      <div class="not-prose grid md:grid-cols-3 gap-4 my-8">
        <div class="bg-red-50 dark:bg-red-950/20 rounded-xl p-4 border border-red-200 dark:border-red-800/30">
          <h4 class="font-bold text-red-800 dark:text-red-200 mb-3">üîê Administrateur</h4>
          <ul class="text-xs text-red-700 dark:text-red-300 space-y-1">
            <li>‚Ä¢ Acc√®s √† toutes les conversations</li>
            <li>‚Ä¢ Cr√©ation de conversations avec tous</li>
            <li>‚Ä¢ Gestion des participants</li>
          </ul>
        </div>
        <div class="bg-orange-50 dark:bg-orange-950/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800/30">
          <h4 class="font-bold text-orange-800 dark:text-orange-200 mb-3">üõ°Ô∏è Gardien</h4>
          <ul class="text-xs text-orange-700 dark:text-orange-300 space-y-1">
            <li>‚Ä¢ Communication avec r√©sidents</li>
            <li>‚Ä¢ Messages avec administration</li>
            <li>‚Ä¢ Cr√©ation de conversations</li>
            <li>‚Ä¢ Participation aux discussions</li>
          </ul>
        </div>
        <div class="bg-green-50 dark:bg-green-950/20 rounded-xl p-4 border border-green-200 dark:border-green-800/30">
          <h4 class="font-bold text-green-800 dark:text-green-200 mb-3">üè† R√©sident</h4>
          <ul class="text-xs text-green-700 dark:text-green-300 space-y-1">
            <li>‚Ä¢ Messages entre r√©sidents</li>
            <li>‚Ä¢ Communication avec administration</li>
            <li>‚Ä¢ Participation aux conversations</li>
            <li>‚Ä¢ Cr√©ation de conversations limit√©es</li>
          </ul>
        </div>
      </div>

      <!-- Notifications et param√®tres -->
      <h2>Notifications et param√®tres</h2>
      
      <h3>Configuration des notifications</h3>
      <p>Personnalisez vos notifications pour ne manquer aucun message important :</p>
      
      <div class="not-prose bg-teal-50 dark:bg-teal-950/20 rounded-xl p-6 my-6 border border-teal-200 dark:border-teal-800/30">
        <h4 class="font-bold text-teal-800 dark:text-teal-200 mb-4">üîî Types de notifications</h4>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <h5 class="font-semibold text-teal-900 dark:text-teal-200 mb-2">Notifications push</h5>
            <ul class="space-y-1 text-teal-700 dark:text-teal-300">
              <li>‚Ä¢ Messages priv√©s importants</li>
              <li>‚Ä¢ Mentions dans les groupes</li>
              <li>‚Ä¢ Annonces administratives</li>
              <li>‚Ä¢ Alertes urgentes</li>
            </ul>
          </div>
          <div>
            <h5 class="font-semibold text-teal-900 dark:text-teal-200 mb-2">Notifications email</h5>
            <ul class="space-y-1 text-teal-700 dark:text-teal-300">
              <li>‚Ä¢ R√©sum√© quotidien des messages</li>
              <li>‚Ä¢ Messages manqu√©s apr√®s 1h</li>
              <li>‚Ä¢ Notifications administratives</li>
              <li>‚Ä¢ Rappels automatiques</li>
            </ul>
          </div>
        </div>
      </div>

      <h3>Param√®tres de confidentialit√©</h3>
      <p>Contr√¥lez qui peut vous contacter et comment :</p>
      
      <ol>
        <li>Acc√©dez aux param√®tres via l'ic√¥ne engrenage</li>
        <li>Section "Confidentialit√© et s√©curit√©"</li>
        <li>Configurez :
          <ul>
            <li>Qui peut vous envoyer des messages priv√©s</li>
            <li>Qui peut vous ajouter √† des groupes</li>
            <li>Visibilit√© de votre statut en ligne</li>
            <li>Accus√©s de lecture automatiques</li>
          </ul>
        </li>
      </ol>

      <!-- Cas d'usage pratiques -->
      <h2>Cas d'usage pratiques</h2>
      
      <h3>Communication d'urgence</h3>
      <div class="not-prose bg-red-50 dark:bg-red-950/20 rounded-xl p-6 my-6 border border-red-200 dark:border-red-800/30">
        <h4 class="font-bold text-red-800 dark:text-red-200 mb-4">üö® Proc√©dure d'urgence</h4>
        <ol class="text-sm text-red-700 dark:text-red-300 space-y-2">
          <li><strong>1. Incident s√©curit√© :</strong>
            <ul class="ml-4 mt-1 space-y-1">
              <li>‚Ä¢ Utilisez le bouton "Urgence" (ic√¥ne rouge)</li>
              <li>‚Ä¢ Message automatique vers gardien et administration</li>
              <li>‚Ä¢ Ajoutez localisation et description br√®ve</li>
            </ul>
          </li>
          <li><strong>2. Panne technique :</strong>
            <ul class="ml-4 mt-1 space-y-1">
              <li>‚Ä¢ Groupe "Maintenance" pour signaler</li>
              <li>‚Ä¢ Joindre photos du probl√®me</li>
              <li>‚Ä¢ Pr√©ciser urgence et impact</li>
            </ul>
          </li>
          <li><strong>3. Information importante :</strong>
            <ul class="ml-4 mt-1 space-y-1">
              <li>‚Ä¢ Groupe g√©n√©ral de l'√©tage/b√¢timent</li>
              <li>‚Ä¢ Utiliser @everyone pour notifier tous</li>
              <li>‚Ä¢ Marquer comme "Important" si critique</li>
            </ul>
          </li>
        </ol>
      </div>

      <h3>Organisation d'√©v√©nements</h3>
      <div class="not-prose bg-purple-50 dark:bg-purple-950/20 rounded-xl p-6 my-6 border border-purple-200 dark:border-purple-800/30">
        <h4 class="font-bold text-purple-800 dark:text-purple-200 mb-4">üéâ √âv√©nements r√©sidents</h4>
        <div class="text-sm text-purple-700 dark:text-purple-300">
          <p class="mb-3"><strong>Cr√©er un groupe √©v√©nement :</strong></p>
          <ol class="space-y-1 mb-4">
            <li>1. Nouveau groupe "F√™te des voisins 2025"</li>
            <li>2. Inviter les r√©sidents int√©ress√©s</li>
            <li>3. Partager les d√©tails progressivement</li>
            <li>4. Organiser les t√¢ches et participations</li>
            <li>5. Partager photos et remerciements apr√®s</li>
          </ol>
          <p><strong>Astuce :</strong> Utilisez les r√©actions pour les sondages rapides (üëçüëé pour oui/non)</p>
        </div>
      </div>

      <h3>Communication avec les prestataires</h3>
      <div class="not-prose bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 my-6 border border-gray-200 dark:border-gray-700">
        <h4 class="font-bold text-gray-800 dark:text-gray-200 mb-4">üîß Coordination travaux</h4>
        <div class="text-sm text-gray-600 dark:text-gray-300">
          <p class="mb-3"><strong>Groupe temporaire travaux :</strong></p>
          <ul class="space-y-1">
            <li>‚Ä¢ Administration + r√©sidents affect√©s + responsable prestataire</li>
            <li>‚Ä¢ Planning d√©taill√© et mises √† jour temps r√©el</li>
            <li>‚Ä¢ Photos avant/pendant/apr√®s les interventions</li>
            <li>‚Ä¢ Questions et r√©ponses imm√©diates</li>
            <li>‚Ä¢ Validation finale et cl√¥ture du groupe</li>
          </ul>
        </div>
      </div>

      <!-- Bonnes pratiques -->
      <h2>Bonnes pratiques et √©tiquette</h2>
      
      <h3>Communication efficace</h3>
      <div class="not-prose grid md:grid-cols-2 gap-6 my-8">
        <div class="space-y-4">
          <div class="bg-green-50 dark:bg-green-950/20 rounded-xl p-4 border border-green-200 dark:border-green-800/30">
            <h4 class="font-bold text-green-800 dark:text-green-200 mb-2">‚úÖ √Ä faire</h4>
            <ul class="text-sm text-green-700 dark:text-green-300 space-y-1">
              <li>‚Ä¢ Messages clairs et concis</li>
              <li>‚Ä¢ V√©rifier l'orthographe</li>
              <li>‚Ä¢ Utiliser les groupes appropri√©s</li>
              <li>‚Ä¢ R√©pondre dans des d√©lais raisonnables</li>
              <li>‚Ä¢ Respecter la vie priv√©e</li>
            </ul>
          </div>
        </div>
        <div class="space-y-4">
          <div class="bg-red-50 dark:bg-red-950/20 rounded-xl p-4 border border-red-200 dark:border-red-800/30">
            <h4 class="font-bold text-red-800 dark:text-red-200 mb-2">‚ùå √Ä √©viter</h4>
            <ul class="text-sm text-red-700 dark:text-red-300 space-y-1">
              <li>‚Ä¢ √âCRIRE TOUT EN MAJUSCULES</li>
              <li>‚Ä¢ Spam ou messages r√©p√©titifs</li>
              <li>‚Ä¢ Contenu inappropri√© ou offensant</li>
              <li>‚Ä¢ Partager des informations personnelles</li>
              <li>‚Ä¢ Ignorer les messages urgents</li>
            </ul>
          </div>
        </div>
      </div>

      <h3>Gestion du temps et notifications</h3>
      <ul>
        <li><strong>Heures de silence :</strong> √âvitez les messages non urgents apr√®s 22h</li>
        <li><strong>Week-end :</strong> Respectez le repos, sauf urgence v√©ritable</li>
        <li><strong>Vacances :</strong> Configurez un message d'absence automatique</li>
        <li><strong>Groupage :</strong> Regroupez plusieurs questions en un seul message</li>
      </ul>

      <!-- D√©pannage -->
      <h2>R√©solution de probl√®mes</h2>
      
      <h3>Probl√®mes de synchronisation</h3>
      <div class="not-prose space-y-4 my-6">
        <div class="bg-yellow-50 dark:bg-yellow-950/20 rounded-xl p-4 border border-yellow-200 dark:border-yellow-800/30">
          <h4 class="font-bold text-yellow-800 dark:text-yellow-200 mb-2">‚ö†Ô∏è Messages non re√ßus</h4>
          <ul class="text-sm text-yellow-700 dark:text-yellow-300 space-y-1">
            <li>‚Ä¢ Actualisez la page (F5 ou Ctrl+R)</li>
            <li>‚Ä¢ V√©rifiez votre connexion internet</li>
            <li>‚Ä¢ D√©connectez-vous et reconnectez-vous</li>
            <li>‚Ä¢ Videz le cache du navigateur</li>
          </ul>
        </div>
        <div class="bg-orange-50 dark:bg-orange-950/20 rounded-xl p-4 border border-orange-200 dark:border-orange-800/30">
          <h4 class="font-bold text-orange-800 dark:text-orange-200 mb-2">üì± Notifications manqu√©es</h4>
          <ul class="text-sm text-orange-700 dark:text-orange-300 space-y-1">
            <li>‚Ä¢ Autorisez les notifications dans votre navigateur</li>
            <li>‚Ä¢ V√©rifiez les param√®tres de notification</li>
            <li>‚Ä¢ Testez avec un message √† vous-m√™me</li>
            <li>‚Ä¢ Contactez l'administration si persistant</li>
          </ul>
        </div>
      </div>

      <h3>Support et assistance</h3>
      <p>Si vous rencontrez des difficult√©s persistantes :</p>
      
      <ol>
        <li>Consultez cette documentation compl√®te</li>
        <li>Utilisez la messagerie pour contacter l'administration</li>
        <li>D√©crivez pr√©cis√©ment le probl√®me rencontr√©</li>
        <li>Mentionnez votre navigateur et appareil</li>
        <li>Joignez une capture d'√©cran si possible</li>
      </ol>

      <!-- Conclusion -->
      <div class="not-prose bg-gradient-to-br from-emerald-50 to-cyan-50 dark:from-emerald-950/20 dark:to-cyan-950/20 rounded-2xl p-8 mt-12 border border-emerald-200/50 dark:border-emerald-800/30">
        <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">üåü Ma√Ætrisez la communication</h2>
        <p class="text-slate-700 dark:text-slate-300 leading-relaxed mb-6">
          La messagerie est un outil puissant pour cr√©er une communaut√© unie et r√©active. 
          Utilisez-la avec respect et efficacit√© pour am√©liorer la vie de tous les r√©sidents.
        </p>
        <div class="grid md:grid-cols-2 gap-4">
          <NuxtLink to="/guide/incidents" class="block bg-white/50 dark:bg-slate-800/50 rounded-xl p-4 hover:bg-white/80 dark:hover:bg-slate-800/80 transition-colors">
            <h3 class="font-bold text-emerald-900 dark:text-emerald-200 mb-2">üö® Gestion des incidents</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Signaler et suivre les probl√®mes efficacement</p>
          </NuxtLink>
          <NuxtLink to="/guide/administration" class="block bg-white/50 dark:bg-slate-800/50 rounded-xl p-4 hover:bg-white/80 dark:hover:bg-slate-800/80 transition-colors">
            <h3 class="font-bold text-emerald-900 dark:text-emerald-200 mb-2">‚öôÔ∏è Administration</h3>
            <p class="text-sm text-slate-600 dark:text-slate-300">Fonctions avanc√©es pour les administrateurs</p>
          </NuxtLink>
        </div>
      </div>

      <div class="text-center mt-12 p-6 bg-gradient-to-r from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-xl border border-cyan-200 dark:border-cyan-700">
        <p class="text-sm text-cyan-700 dark:text-cyan-300">
          <strong>Messagerie ma√Ætris√©e !</strong> Vous savez maintenant utiliser tous les outils de communication de la plateforme.
        </p>
      </div>
    </div>
  </DocShell>
</template>

<script setup lang="ts">
  import { onMounted } from 'vue'
  import { useTheme } from '../../composables/useTheme'
  
  // Import du syst√®me de th√®me
  const { initTheme } = useTheme()
  useHead({ title: 'Guide de la messagerie - Documentation' })

  onMounted(() => {
    initTheme()
  })
</script>


